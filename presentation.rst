====================
SGVLUG Website Notes
====================

http://www.sgvlug.org/

James McDuffie

----

www.sgvlug.org
==============

- Hosted on Github

  - Source
  - HTML

- Generated by a static web generator

  - A program that generates HTML pages from some sort of markup language and templates.

----

Why Github
=========

- Free
- Version controlled
- Anyone can edit the site
- Solves problem of single point for access
- Only failure point is having domain pointed at it
- Need only a Python, a text editor and git to modify

----

We are Using Pelican
====================

- Python based static site generator
- Write content with either Markdown, reStructuredText or AsciiDoc
- Very active community
  - Freenode IRC #pelrican
- Many themes and plugins available
- http://docs.getpelican.com/

----

Getting Started
===============
    
Install Pelican and ghp-import

.. sourcecode:: shell-session

    $ pip install pelican
    $ pip install ghp-import

Checkout source (read only)

.. sourcecode:: shell-session

    $ git clone https://github.com/sgvlug/website.git sgvlug_website

If you are added to access list you can clone this way:

.. sourcecode:: shell-session

    $ git clone git@github.com:sgvlug/website.git sgvlug_website

----

Creating a New Post
===================

Open an editor to create a new post:

.. sourcecode:: shell-session

    $ vim content/posts/2014-02-13-lightning-talks.md

I am tending to name the file with the event date in the filename. The date in the post should be when it was written.

The contents of the post need at least the Title and Date meta data in the header. Contents of the post is regular Markdown below the header lines.

.. sourcecode:: markdown

    Title: Lightning Talks
    Date: 2014-01-13 22:33

    Some contents here...

----

Testing Website and Deploying
=============================

Pelican includes a small development server so you can test what the site will look like when you deploy it. After running the following navigate to http://localhost:8000/

.. sourcecode:: shell-session

   $ make devserver

Once you are satisfied with the changes then use git to save your changes and upload to Github:

.. sourcecode:: shell-session

    $ git add content/posts/<your_new_file>.md
    $ git commit -m "What I did here was add a new post"
    $ git push origin master


Deploying to github is made easy using ghp-import and Pelcian's Makefile:

.. sourcecode:: shell-session

   $ make github

----

Easy Way to Make Posts
======================

Since we are using the SGVTech Meetup Group, I made a script to easily convert the contents of the meetup events into Markdown for Pelcian. It also adds some meta data about the event data and location.

----

Set up meetup2md
================

.. sourcecode:: shell-session

    $ git clone https://github.com/omwah/meetup2md.git
    $ git submodule init
    $ git submodule update
    $ cd meetup2md

We need to set up OAuth so the script can access Meetup. Create a new consumer key and secret here:
https://secure.meetup.com/meetup_api/oauth_consumers/create

Set up authentication with the program:

.. sourcecode:: shell-session
    
    $ ./meetup2md.py --consumer <key_from_website> <secret_from_website>

Hit allow on the web page that is loaded by the script. Now pass the verification code to the script:

.. sourcecode:: shell-session

    $ ./meetup2md.py --verifier 183742

Now edit the [events] section of app.cfg to allow us to easily to filter out SGVLUG events:

.. sourcecode:: shell-session

    [events]
    group_name = SGVTech
    name_filter = SGV Linux Users Group Monthly Meeting
    title_cleanup = ^SGV Linux Users Group Monthly Meeting -

----

Creating an Article from a Meetup Event
=======================================

From your sgvtech_website directory you can create a post for the SGVLUG meetups scheduled within the next month:
    
.. sourcecode:: shell-session

    $ ./meetup2md.py -t ,1m -o content/posts

You will see something like this:

.. sourcecode:: shell-session

    Name: SGV Linux Users Group Monthly Meeting - Lightning Talks
    Title: Lightning Talks
    Time: Thursday February 13, 2014 07:00 PM
    Venue: Burger Continental, 535 S Lake Ave, Pasadena, CA, 91101
     -> content/posts/2014-02-13-lightning-talks.md
    ----

Load up the devserver to check the post then commit if everything looks fine.
